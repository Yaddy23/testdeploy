"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[133],{8696:function(e,t,a){a(2791);var n=a(1087),r=a(184);t.Z=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"list-group",children:[(0,r.jsx)("h4",{children:"Admin Panel"}),(0,r.jsx)(n.OL,{to:"/dashboard/admin/products",className:"list-group-item list-group-item-action",children:"List of Products"}),(0,r.jsx)(n.OL,{to:"/dashboard/admin/add-category",className:"list-group-item list-group-item-action",children:"Add Category"}),(0,r.jsx)(n.OL,{to:"/dashboard/admin/add-product",className:"list-group-item list-group-item-action",children:"Add Product"}),(0,r.jsx)(n.OL,{to:"/dashboard/admin/orders",className:"list-group-item list-group-item-action",children:"Orders"}),(0,r.jsx)(n.OL,{to:"/dashboard/admin/view-users",className:"list-group-item list-group-item-action",children:"Users"})]})})})}},7370:function(e,t,a){a.d(t,{Z:function(){return y}});a(2791);var n=a(1413),r=a(9439),s=a(1087),c=a(9805),o=a(8241),i=a(3402),l=a(183),d=a(4165),u=a(5861),m=a(5102),p=a(1243),h=a(7689),v=a(184),x=function(){var e=(0,m.R)(),t=(0,r.Z)(e,2),a=t[0],s=t[1],c=(0,h.s0)(),o=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(t){var r,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.Z.get("/api/v1/product/search/".concat(a.keyword));case 4:r=e.sent,o=r.data,s((0,n.Z)((0,n.Z)({},a),{},{results:o})),c("/search"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsx)("div",{children:(0,v.jsxs)("form",{className:"d-flex",role:"search",onSubmit:o,children:[(0,v.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",value:a.keyword,onChange:function(e){return s((0,n.Z)((0,n.Z)({},a),{},{keyword:e.target.value}))}}),(0,v.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})},g=a(4904),j=a(6224),f=a(574),b=function(){var e,t,a=(0,j.j)(),d=(0,r.Z)(a,1)[0],u=(0,o.a)(),m=(0,r.Z)(u,2),p=m[0],h=m[1],b=(0,g.Z)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[(0,v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,v.jsx)("span",{className:"navbar-toggler-icon"})}),(0,v.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01",children:[(0,v.jsxs)(s.rU,{to:"/",className:"navbar-brand",children:[(0,v.jsx)("img",{src:l,width:100,height:60,alt:"broken"}),"New Century Books"]}),(0,v.jsxs)("ul",{className:"navbar-nav ms-auto mt-2 mt-lg-0 p-3",children:[(0,v.jsx)(x,{}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(s.OL,{to:"/",className:"nav-link",children:"Home"})}),(0,v.jsxs)("li",{className:"nav-item dropdown",children:[(0,v.jsx)(s.rU,{className:"nav-link dropdown-toggle",to:"/categories","data-bs-toggle":"dropdown",children:"Categories"}),(0,v.jsxs)("ul",{className:"dropdown-menu",children:[(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{className:"dropdown-item",to:"/categories",children:"All Categories"})}),null===b||void 0===b?void 0:b.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{className:"dropdown-item",to:"/category/".concat(e.slug),children:e.name})})}))]})]}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(s.OL,{to:"/Shop",className:"nav-link",children:"Shop"})}),p.user?(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("li",{className:"nav-item dropdown",children:[(0,v.jsx)(s.OL,{className:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:null===p||void 0===p||null===(e=p.user)||void 0===e?void 0:e.firstName}),(0,v.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,v.jsx)("li",{children:(0,v.jsx)(s.OL,{to:"/dashboard/".concat(1===(null===p||void 0===p||null===(t=p.user)||void 0===t?void 0:t.role)?"admin":"user"),className:"dropdown-item",children:"Dashboard"})}),(0,v.jsx)("li",{children:(0,v.jsx)(s.OL,{onClick:function(){h((0,n.Z)((0,n.Z)({},p),{},{user:null,token:""})),localStorage.removeItem("auth"),i.ZP.success("Logout Successfully")},to:"/login",className:"dropdown-item",children:"Logout"})})]})]})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(s.OL,{to:"/register",className:"nav-link",children:"Sign Up"})}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(s.OL,{to:"/login",className:"nav-link",children:"Sign In"})})]}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(f.Z,{count:null===d||void 0===d?void 0:d.length,showZero:!0,children:(0,v.jsx)(s.OL,{to:"/cart",className:"nav-link",children:(0,v.jsx)(c.FeP,{})})})})]})]})]})})},N=function(){return(0,v.jsxs)("div",{className:"footer",children:[(0,v.jsxs)("h4",{className:"text-center",children:["All Rights Reserved \xa9 New Century Books"," "]}),(0,v.jsxs)("p",{className:"text-center mt-3",children:[(0,v.jsx)(s.rU,{to:"/about",children:"About"}),"|",(0,v.jsx)(s.rU,{to:"/contact",children:"Contact"})]})]})},Z=a(4270),w=(a(5462),function(e){var t=e.children,a=e.title,n=e.description,r=e.keywords,s=e.author;return(0,v.jsxs)("div",{children:[(0,v.jsxs)(Z.q,{children:[(0,v.jsx)("meta",{charSet:"utf-8"}),(0,v.jsx)("meta",{name:"description",content:n}),(0,v.jsx)("meta",{name:"keywords",content:r}),(0,v.jsx)("meta",{name:"author",content:s}),(0,v.jsx)("title",{children:a})]}),(0,v.jsx)(b,{}),(0,v.jsxs)("main",{style:{minHeight:"90vh"},children:[(0,v.jsx)(i.x7,{}),t]}),(0,v.jsx)(N,{})]})});w.defaultProps={title:"New Century Books",description:"ecommerce shop",keywords:"mern,react,node,mngodb",author:"Yad"};var y=w},4904:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(4165),r=a(5861),s=a(9439),c=a(2791),o=a(1243);function i(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),a=t[0],i=t[1],l=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/v1/category/get-category");case 3:t=e.sent,a=t.data,i(null===a||void 0===a?void 0:a.category),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){l()}),[]),a}},2133:function(e,t,a){a.r(t);var n=a(4165),r=a(5861),s=a(9439),c=a(2791),o=a(7370),i=a(8696),l=a(3402),d=a(1243),u=a(9),m=a(7689),p=a(184),h=u.Z.Option;t.default=function(){var e=(0,m.s0)(),t=(0,m.UO)(),a=(0,c.useState)(""),v=(0,s.Z)(a,2),x=v[0],g=v[1],j=(0,c.useState)([]),f=(0,s.Z)(j,2),b=f[0],N=f[1],Z=(0,c.useState)(""),w=(0,s.Z)(Z,2),y=w[0],k=w[1],S=(0,c.useState)(""),C=(0,s.Z)(S,2),P=C[0],L=C[1],O=(0,c.useState)(""),U=(0,s.Z)(O,2),D=U[0],A=U[1],E=(0,c.useState)(""),R=(0,s.Z)(E,2),T=R[0],F=R[1],_=(0,c.useState)(""),q=(0,s.Z)(_,2),B=q[0],I=q[1],Y=(0,c.useState)(""),z=(0,s.Z)(Y,2),H=z[0],G=z[1],J=(0,c.useState)(""),K=(0,s.Z)(J,2),M=K[0],Q=K[1],V=(0,c.useState)(""),W=(0,s.Z)(V,2),X=W[0],$=W[1],ee=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/api/v1/product/get-product/".concat(t.slug));case 3:a=e.sent,r=a.data,g(r.product.isbn),k(r.product.name),$(r.product._id),L(r.product.description),A(r.product.price),A(r.product.price),I(r.product.quantity),G(r.product.shipping),F(r.product.category._id),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ee()}),[]);var te=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/api/v1/category/get-category");case 3:t=e.sent,null!==(a=t.data)&&void 0!==a&&a.success&&N(null===a||void 0===a?void 0:a.category),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("Something wwent wrong in getting category");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){te()}),[]);var ae=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(a){var r,s,c;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault();try{(r=new FormData).append("isbn",x),r.append("name",y),r.append("description",P),r.append("price",D),r.append("quantity",B),M&&r.append("photo",M),r.append("category",T),s=d.Z.put("/api/v1/product/update-product/".concat(X),r),null!==(c=s.data)&&void 0!==c&&c.success?l.ZP.error(null===c||void 0===c?void 0:c.message):(e("/dashboard/admin/products"),l.ZP.success("Product Updated Successfully"))}catch(n){console.log(n),l.ZP.error("something went wrong")}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(){var a,r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,window.prompt("Are You Sure want to delete this product ? ")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,d.Z.delete("/api/v1/product/delete-product/".concat(X));case 6:a=t.sent,null!==(r=a.data)&&void 0!==r&&r.success?l.ZP.error(null===r||void 0===r?void 0:r.message):(l.ZP.success("Product Removed Successfully"),e("/dashboard/admin/products")),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),l.ZP.error("Something went wrong");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return(0,p.jsx)(o.Z,{title:"Dashboard - Update Product",children:(0,p.jsx)("div",{className:"container-fluid m-3 p-3",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsx)(i.Z,{})}),(0,p.jsxs)("div",{className:"col-md-9",children:[(0,p.jsx)("h1",{children:"Update Product"}),(0,p.jsxs)("div",{className:"m-1 w-75",children:[(0,p.jsx)(u.Z,{bordered:!1,placeholder:"Select a category",size:"large",showSearch:!0,className:"form-select mb-3",onChange:function(e){F(e)},value:T,children:null===b||void 0===b?void 0:b.map((function(e){return(0,p.jsx)(h,{value:e._id,children:e.name},e._id)}))}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("label",{className:"btn btn-outline-secondary col-md-12",children:[M?M.name:"Upload Photo",(0,p.jsx)("input",{type:"file",name:"photo",accept:"image/*",onChange:function(e){return Q(e.target.files[0])},hidden:!0})]})}),(0,p.jsx)("div",{className:"mb-3",children:M?(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("img",{src:URL.createObjectURL(M),alt:"product_photo",height:"200px",className:"img img-responsive"})}):(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("img",{src:"/api/v1/product/product-photo/".concat(X),alt:"product_photo",height:"150px",className:"img img-responsive"})})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",value:x,placeholder:"Enter Updated ISBN",className:"form-control",onChange:function(e){return g(e.target.value)}})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"text",value:y,placeholder:"write a name",className:"form-control",onChange:function(e){return k(e.target.value)}})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("textarea",{type:"text",value:P,placeholder:"write a description",className:"form-control",onChange:function(e){return L(e.target.value)}})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"number",value:D,placeholder:"write a Price",className:"form-control",onChange:function(e){return A(e.target.value)}})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("input",{type:"number",value:B,placeholder:"write a quantity",className:"form-control",onChange:function(e){return I(e.target.value)}})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)(u.Z,{bordered:!1,placeholder:"Select Shipping ",size:"large",showSearch:!0,className:"form-select mb-3",onChange:function(e){G(e)},value:H?"yes":"No",children:[(0,p.jsx)(h,{value:"0",children:"No"}),(0,p.jsx)(h,{value:"1",children:"Yes"})]})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("button",{className:"btn btn-primary",onClick:ae,children:"UPDATE PRODUCT"})}),(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsx)("button",{className:"btn btn-danger",onClick:ne,children:"DELETE PRODUCT"})})]})]})]})})})}},183:function(e,t,a){e.exports=a.p+"static/media/ncblogo.224df00ba05c159aadbd.png"}}]);
//# sourceMappingURL=133.f0f7980d.chunk.js.map