"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[895],{7370:function(e,n,t){t.d(n,{Z:function(){return w}});t(2791);var r=t(1413),a=t(9439),s=t(1087),c=t(9805),o=t(8241),i=t(3402),l=t(183),d=t(4165),u=t(5861),m=t(5102),h=t(1243),v=t(7689),p=t(184),x=function(){var e=(0,m.R)(),n=(0,a.Z)(e,2),t=n[0],s=n[1],c=(0,v.s0)(),o=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n){var a,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,h.Z.get("/api/v1/product/search/".concat(t.keyword));case 4:a=e.sent,o=a.data,s((0,r.Z)((0,r.Z)({},t),{},{results:o})),c("/search"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{children:(0,p.jsxs)("form",{className:"d-flex",role:"search",onSubmit:o,children:[(0,p.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",value:t.keyword,onChange:function(e){return s((0,r.Z)((0,r.Z)({},t),{},{keyword:e.target.value}))}}),(0,p.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})},f=t(4904),g=t(6224),j=t(574),Z=function(){var e,n,t=(0,g.j)(),d=(0,a.Z)(t,1)[0],u=(0,o.a)(),m=(0,a.Z)(u,2),h=m[0],v=m[1],Z=(0,f.Z)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[(0,p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,p.jsx)("span",{className:"navbar-toggler-icon"})}),(0,p.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01",children:[(0,p.jsxs)(s.rU,{to:"/",className:"navbar-brand",children:[(0,p.jsx)("img",{src:l,width:100,height:60,alt:"broken"}),"New Century Books"]}),(0,p.jsxs)("ul",{className:"navbar-nav ms-auto mt-2 mt-lg-0 p-3",children:[(0,p.jsx)(x,{}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(s.OL,{to:"/",className:"nav-link",children:"Home"})}),(0,p.jsxs)("li",{className:"nav-item dropdown",children:[(0,p.jsx)(s.rU,{className:"nav-link dropdown-toggle",to:"/categories","data-bs-toggle":"dropdown",children:"Categories"}),(0,p.jsxs)("ul",{className:"dropdown-menu",children:[(0,p.jsx)("li",{children:(0,p.jsx)(s.rU,{className:"dropdown-item",to:"/categories",children:"All Categories"})}),null===Z||void 0===Z?void 0:Z.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(s.rU,{className:"dropdown-item",to:"/category/".concat(e.slug),children:e.name})})}))]})]}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(s.OL,{to:"/Shop",className:"nav-link",children:"Shop"})}),h.user?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("li",{className:"nav-item dropdown",children:[(0,p.jsx)(s.OL,{className:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:null===h||void 0===h||null===(e=h.user)||void 0===e?void 0:e.firstName}),(0,p.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,p.jsx)("li",{children:(0,p.jsx)(s.OL,{to:"/dashboard/".concat(1===(null===h||void 0===h||null===(n=h.user)||void 0===n?void 0:n.role)?"admin":"user"),className:"dropdown-item",children:"Dashboard"})}),(0,p.jsx)("li",{children:(0,p.jsx)(s.OL,{onClick:function(){v((0,r.Z)((0,r.Z)({},h),{},{user:null,token:""})),localStorage.removeItem("auth"),i.ZP.success("Logout Successfully")},to:"/login",className:"dropdown-item",children:"Logout"})})]})]})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(s.OL,{to:"/register",className:"nav-link",children:"Sign Up"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(s.OL,{to:"/login",className:"nav-link",children:"Sign In"})})]}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)(j.Z,{count:null===d||void 0===d?void 0:d.length,showZero:!0,children:(0,p.jsx)(s.OL,{to:"/cart",className:"nav-link",children:(0,p.jsx)(c.FeP,{})})})})]})]})]})})},b=function(){return(0,p.jsxs)("div",{className:"footer",children:[(0,p.jsxs)("h4",{className:"text-center",children:["All Rights Reserved \xa9 New Century Books"," "]}),(0,p.jsxs)("p",{className:"text-center mt-3",children:[(0,p.jsx)(s.rU,{to:"/about",children:"About"}),"|",(0,p.jsx)(s.rU,{to:"/contact",children:"Contact"})]})]})},N=t(4270),y=(t(5462),function(e){var n=e.children,t=e.title,r=e.description,a=e.keywords,s=e.author;return(0,p.jsxs)("div",{children:[(0,p.jsxs)(N.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("meta",{name:"description",content:r}),(0,p.jsx)("meta",{name:"keywords",content:a}),(0,p.jsx)("meta",{name:"author",content:s}),(0,p.jsx)("title",{children:t})]}),(0,p.jsx)(Z,{}),(0,p.jsxs)("main",{style:{minHeight:"90vh"},children:[(0,p.jsx)(i.x7,{}),n]}),(0,p.jsx)(b,{})]})});y.defaultProps={title:"New Century Books",description:"ecommerce shop",keywords:"mern,react,node,mngodb",author:"Yad"};var w=y},4904:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4165),a=t(5861),s=t(9439),c=t(2791),o=t(1243);function i(){var e=(0,c.useState)([]),n=(0,s.Z)(e,2),t=n[0],i=n[1],l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("/api/v1/category/get-category");case 3:n=e.sent,t=n.data,i(null===t||void 0===t?void 0:t.category),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){l()}),[]),t}},895:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(3433),a=t(4165),s=t(5861),c=t(4942),o=t(1413),i=t(9439),l=t(2791),d=t(7370),u=t(1243),m=t(6528),h=t(4424),v=t(3402),p=[{_id:0,name:"$0 to 199",array:[0,199]},{_id:1,name:"$200 to 399",array:[200,399]},{_id:2,name:"$400 to 599",array:[400,599]},{_id:3,name:"$600 to 799",array:[600,799]},{_id:4,name:"$800 to 999",array:[800,999]},{_id:5,name:"$1000 or more",array:[1e3,5e5]}],x=t(7689),f=t(6224),g=t(183),j=t(184),Z=function(){var e=(0,l.useState)([]),n=(0,i.Z)(e,2),t=n[0],Z=n[1],b=(0,f.j)(),N=(0,i.Z)(b,2),y=N[0],w=N[1],k=(0,l.useState)([]),S=(0,i.Z)(k,2),C=S[0],_=S[1],L=(0,l.useState)([]),O=(0,i.Z)(L,2),P=O[0],E=O[1],T=(0,l.useState)([]),A=(0,i.Z)(T,2),D=A[0],I=A[1],F=(0,l.useState)(0),R=(0,i.Z)(F,2),U=R[0],$=R[1],q=(0,l.useState)(1),B=(0,i.Z)(q,2),H=B[0],Q=B[1],G=(0,l.useState)(!1),M=(0,i.Z)(G,2),Y=M[0],z=M[1],J=(0,l.useState)({}),K=(0,i.Z)(J,2),V=K[0],W=K[1],X=(0,x.s0)(),ee=(0,l.useState)(1),ne=(0,i.Z)(ee,2),te=ne[0],re=(ne[1],function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/api/v1/category/get-category");case 3:n=e.sent,null!==(t=n.data)&&void 0!==t&&t.success&&_(null===t||void 0===t?void 0:t.category),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());(0,l.useEffect)((function(){re(),se()}),[]);var ae=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,u.Z.get("/api/v1/product/product-list/".concat(H));case 4:n=e.sent,t=n.data,Z(t.products),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/api/v1/product/product-count");case 3:n=e.sent,t=n.data,$(null===t||void 0===t?void 0:t.total),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){1!==H&&ce()}),[H]);var ce=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,u.Z.get("/api/v1/product/product-list/".concat(H));case 4:n=e.sent,s=n.data,z(!1),Z([].concat((0,r.Z)(t),(0,r.Z)(null===s||void 0===s?void 0:s.products))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),z(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){P.length&&D.length||ae()}),[P.length,D.length]),(0,l.useEffect)((function(){(P.length||D.length)&&oe()}),[P,D]);var oe=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.post("/api/v1/product/product-filters",{checked:P,radio:D});case 3:n=e.sent,t=n.data,Z(null===t||void 0===t?void 0:t.products),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(d.Z,{title:"All Products ",children:(0,j.jsxs)("div",{className:"container-fluid row mt-3",children:[(0,j.jsxs)("div",{className:"col-md-2",children:[(0,j.jsx)("h4",{className:"text-center",children:"Filter By Category"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:null===C||void 0===C?void 0:C.map((function(e){return(0,j.jsx)(m.Z,{onChange:function(n){return function(e,n){var t=(0,r.Z)(P);e?t.push(n):t=t.filter((function(e){return e!==n})),E(t)}(n.target.checked,e._id)},children:e.name},e._id)}))}),(0,j.jsx)("h4",{className:"text-center mt-4",children:"Filter By Price"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:(0,j.jsx)(h.ZP.Group,{onChange:function(e){return I(e.target.value)},children:null===p||void 0===p?void 0:p.map((function(e){return(0,j.jsx)("div",{children:(0,j.jsx)(h.ZP,{value:e.array,children:e.name})},e._id)}))})}),(0,j.jsx)("div",{className:"d-flex flex-column mt-4",children:(0,j.jsx)("button",{className:"btn btn-danger",onClick:function(){return window.location.reload()},children:"RESET FILTERS"})})]}),(0,j.jsxs)("div",{className:"col-md-9",children:[(0,j.jsx)("h1",{className:"text-center",children:"All Products"}),(0,j.jsx)("div",{className:"d-flex flex-wrap",children:null===t||void 0===t?void 0:t.map((function(e){return(0,j.jsxs)("div",{className:"card m-2",style:{width:"20rem"},children:[(0,j.jsx)("img",{src:"/api/v1/product/product-photo/".concat(e._id),className:"card-img-top",height:"250px",alt:g}),(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsx)("h5",{className:"card-title",children:e.name}),(0,j.jsxs)("p",{className:"card-text",children:[e.description.substring(0,30),"..."]}),(0,j.jsxs)("p",{className:"cart-text",children:["Product Quantity: ",e.quantity]}),(0,j.jsxs)("p",{className:"card-text",children:["$",e.price]}),(0,j.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,j.jsx)("button",{className:"btn btn-sm btn-outline-secondary me-2",onClick:function(){return n=e._id,void(te>1&&W((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,c.Z)({},n,(e[n]||1)-1))})));var n},children:"-"}),(0,j.jsx)("input",{type:"number",min:"1",value:V[e._id]||1,onChange:function(n){var t=parseInt(n.target.value,10);W((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,c.Z)({},e._id,t||1))}))},className:"form-control me-2 input-smaller"}),(0,j.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n=e._id,void W((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,c.Z)({},n,(e[n]||0)+1))}));var n},children:"+"})]}),(0,j.jsx)("button",{className:"btn btn-primary ms-2",onClick:function(){return X("/product/".concat(e.slug))},children:"MORE DETAILS"}),(0,j.jsx)("button",{className:"btn btn-secondary ms-1",onClick:function(){var n=V[e._id]||1,t=y.findIndex((function(n){return n._id===e._id}));if(n<=e.quantity){if(-1!==t){var a=(0,r.Z)(y);a[t].quantity+=n,w(a)}else w([].concat((0,r.Z)(y),[(0,o.Z)((0,o.Z)({},e),{},{quantity:n})]));v.ZP.success("Item Added To Cart")}else v.ZP.error("Invalid Quantity to Order")},children:"ADD TO CART"})]})]},e._id)}))}),(0,j.jsx)("div",{className:"m-2 p-3",children:t&&t.length<U&&(0,j.jsx)("button",{className:"btn btn-warning",onClick:function(e){e.preventDefault(),Q(H+1)},children:Y?"Loading ...":"Load more"})})]})]})})}},183:function(e,n,t){e.exports=t.p+"static/media/ncblogo.224df00ba05c159aadbd.png"}}]);
//# sourceMappingURL=895.cb00731d.chunk.js.map